# 분석 의사결정 기록 (Data Preprocessing Decisions)



## 1. CustomerID 결측치(null)



### 현황

- CustomerID 결측치 약 24.9%

- 비회원 구매로 추정



### 의사결정

- 데이터에서 **제거하지 않고 보존**

- 단, **코호트 분석 및 리텐션 분석에서는 제외**



### 근거

- 코호트/리텐션 분석은 고객 식별을 전제로 함

- CustomerID가 없으면 동일 고객의 재구매 여부 판단 불가

- 결측치를 포함할 경우 리텐션 정의 자체가 성립하지 않음



### 분석 영향

- 전체 매출 및 주문 분석: 포함

- 고객 단위 분석(코호트, RFM): 제외



---



## 2. 중복 데이터 처리 (InvoiceNo + StockCode)



### 현황

- 동일 송장 내 동일 상품이 여러 행으로 존재

- 실제 중복 데이터인지, 수량 분할 기록인지 명확하지 않음



### 의사결정

- **중복 제거하지 않음**



### 근거

- 데이터 보존 

- 동일 고객의 동일 월 내 반복 기록은 리텐션 계산에 영향 없음

- 리텐션 분석은 `COUNT(DISTINCT customerid)` 기준



### 분석 영향

- 활성 고객 수: 영향 없음

- 리텐션율: 영향 없음

- 매출/수량 분석 시에는 집계 방식으로 해결



---



## 3. 취소 주문 (InvoiceNo 'C'로 시작)



### 현황

- InvoiceNo가 'C'로 시작하는 주문 존재

- Quantity가 음수로 기록됨



### 의사결정

- **데이터에서 제거하지 않음**



### 근거

- 취소/반품도 실제 고객 행동의 일부

- 본 분석(코호트/리텐션)은 금액이 아닌 고객 활동 여부 기준

- 취소 주문 포함 여부가 리텐션 계산에 직접적인 영향 없음



### 분석 영향

- 리텐션 분석: 영향 없음

- 순매출 분석 시: 별도 필터링 필요



---



## 4. UnitPrice = 0 인  데이터 



### 현황

- UnitPrice가 0인 행 다수 존재

- Description 기준으로 null,damaged, missing, check 등 비정상 거래로 추정



### 의사결정

- **제거하지 않고 보존**



### 근거

- 코호트 분석에서는 UnitPrice를 사용하지 않음

- 고객의 활동 여부 판단에는 영향 없음

- 매출 분석과 고객 행동 분석을 분리



### 분석 영향

- 리텐션 분석: 영향 없음

- 매출 분석 시: `UnitPrice > 0` 조건 필요



---



## 5. 전반적 처리 원칙 요약



- 데이터 삭제는 최소화하고 분석 목적에 따라 필터링

- 고객 행동 분석과 매출 분석을 분리

- 코호트 분석은 고객 식별 가능성(CustomerID)을 최우선 기준으로 설정



본 의사결정은 코호트 분석의 정의와 분석 목적에 기반하여 이루어졌으며,  

이후 매출 분석 및 상품 분석 단계에서는 별도의 전처리 기준을 적용한다.



